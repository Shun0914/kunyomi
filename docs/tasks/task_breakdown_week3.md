# Week 3 タスク分割案

## Week 3の目標

**最終発表に向けた完成度向上**
- ピッチ準備：ストーリー、アーキテクチャ図、スライド作成
- Bugfix対応：Week1-2で発見されたバグの修正
- 品質向上：エラーハンドリング、リファクタリング（時間があれば）

**完了の定義**:
- 発表準備が完了している（ストーリー、アーキテクチャ図、スライド）
- Week1-2のBugfixが完了している
- デモ可能な状態になっている

---

## 【High Priority】発表準備

### 発表準備チケット（1チケット）

**所要時間**: 4日間（2人がフルタイム、2人は開発と並行）  
**担当**: 全員（担当割り振り）  
**依存**: Week2完了後  

**内容**:
- **ピッチストーリー作成**
  - 全体アウトライン作成（課題提起 → アーキテクチャ紹介 → 機能デモ → まとめ）
  - 平仄を整える
  - ストーリー全体の一貫性を確保
  
- **アーキテクチャ図作成**
  - システム構成図（フロントエンド、バックエンド、DB）
  - データフロー図
  - ER図、データ定義は既存ドキュメントを使用
  
- **スライド作成**
  - 課題提起
  - 解決アプローチ（アーキテクチャ）
  - デモ内容の説明
  - まとめ

**完了条件**:
- ピッチストーリーが完成している
- アーキテクチャ図が完成している
- スライドが完成している
- 発表練習ができる状態になっている

**備考**:
- 全体のアウトライン・平仄を作る人は開発から解放
- 各担当者に割り振って進める

---

## 【Medium Priority】Week1-2のBugfix

### Bugfix対応（5枚程度想定）

**所要時間**: 検証中に発見・起票、随時対応  
**担当**: 開発担当者  
**依存**: Week1-2の検証完了後  

**想定されるBugfix内容**:
- Week1-2で実装した機能の検証中に発見されるバグ
- UI/UXの改善点
- エラー処理の不備
- その他検証で発見された問題

**対応方針**:
- 検証中に発見されたら都度起票
- 優先度の高いものから対応
- デモに影響するものは優先的に対応
- 完了させる必要性がある（完成度を高めるため）

**完了条件**:
- 検証で発見された主要なバグが修正されている
- デモに支障がない状態になっている

---

### 大量のドキュメントデータをMySQLに直接インサート

**所要時間**: 2-3時間  
**担当**: 開発担当者  
**依存**: Week1-2の検証完了後  
**優先度**: Medium（デモの準備として重要）  

**背景**:
- リダイレクト問題でPOST `/api/documents`がまだ動作していない
- デモ用に大量のドキュメントデータが必要
- 手動で一つずつ作成するのは大変なため、DBに直接インサートする

**内容**:
- **大量のドキュメントデータを生成**
  - タイトル、本文（Markdown）、ジャンルID、キーワードなどを含む
  - バリエーション豊富なデータを作成
  - 様々なジャンルにまたがるデータを作成

- **MySQLに直接インサート**
  - スクリプトを作成して一括投入、または手動でSQLを実行
  - 必要なリレーション（ジャンル、キーワード、ユーザー等）を正しく設定

- **データのバリデーション・確認**
  - 正しくインサートされているか確認
  - 必要なリレーションが正しく設定されているか確認

**完了条件**:
- 大量のドキュメントデータがMySQLにインサートされている
- デモで使用できる十分なデータが用意されている
- データの整合性が確認されている

**備考**:
- リダイレクト問題解決後の暫定対応
- デモの準備として優先的に対応
- ローカルDBとAzure DBの両方に対応が必要な場合は検討

---

## 【Low Priority】品質向上機能

### 3-1. ログイン機能（オプション）

**所要時間**: 2-4時間  
**担当**: 開発担当者（時間があれば）  
**依存**: Bugfix完了後  
**優先度**: 低（デモに必須ではない）  

**内容**:
- ログイン機能の実装
  - 方式は未定（簡易ユーザー選択UI / JWT認証 / 外部認証）
  - ユーザー認証・セッション管理
  - フロントエンドのログイン画面

**完了条件**:
- ログイン機能が動作する
- セッション管理が正しく機能する

**備考**:
- デモに必須ではないため、時間があれば対応
- 実装方式は検討が必要

---

### 3-2. エラーハンドリング統一化（オプション）

**所要時間**: 2-3時間  
**担当**: 開発担当者（時間があれば）  
**依存**: Bugfix完了後  
**優先度**: 低  

**内容**:
- **バックエンド**: FastAPIの例外ハンドリング統一
  - 共通のエラーレスポンス形式
  - エラーログの統一
  
- **フロントエンド**: Reactのエラー表示統一
  - トースト通知 / モーダルダイアログ
  - エラーメッセージの統一フォーマット

**完了条件**:
- バックエンド・フロントエンドでエラーハンドリングが統一されている
- ユーザーフレンドリーなエラーメッセージが表示される

**備考**:
- 時間があれば対応
- 主要な機能から優先的に適用

---

### 3-3. リファクタリング（オプション）

**所要時間**: 1-3時間  
**担当**: 開発担当者（時間があれば）  
**依存**: Bugfix完了後  
**優先度**: 低  

**内容**:
- コードの可読性向上
- 重複コードの削減
- パフォーマンス改善
- その他技術的負債の解消

**完了条件**:
- コードの可読性が向上している
- パフォーマンスが改善している（あれば）

**備考**:
- 時間があれば対応
- 優先度は低いが、発表前に時間があれば実施

---

## 時間配分の目安

**4日間の想定**:
- **発表準備**: 2人がフルタイム（全体アウトライン・平仄作成者）
- **開発**: 2人が開発に集中（Bugfix対応、Low Priority対応）
- **並行作業**: 発表準備の一部（アーキテクチャ図、スライド）は開発と並行

**優先順位**:
1. 【High Priority】発表準備（必須）
2. 【Medium Priority】Bugfix対応・大量データ投入（完成度向上のため完了させる）
3. 【Low Priority】品質向上機能（時間があれば）

---

## リスク管理

**想定されるリスク**:
- Bugfixが予想以上に多い場合
  - → 優先度の高いものから対応、デモに支障のないものは後回し

- 発表準備に時間がかかる場合
  - → 発表準備を優先、開発は最小限に

- デモの動作確認で問題が発見された場合
  - → 最優先で対応

---

## 完了チェックリスト

- [ ] ピッチストーリーが完成している
- [ ] アーキテクチャ図が完成している
- [ ] スライドが完成している
- [ ] Week1-2の主要なBugfixが完了している
- [ ] 大量のドキュメントデータがMySQLにインサートされている
- [ ] デモが問題なく動作することを確認
- [ ] 発表練習ができる状態になっている
